--- fs/cifs/dir.c
+++ fs/cifs/dir.c
@@ -194,7 +194,7 @@
 	int i;
 
 	if (unlikely(direntry->d_name.len >
-		     le32_to_cpu(tcon->fsAttrInfo.MaxPathNameComponentLength)))
+		     tcon->fsAttrInfo.MaxPathNameComponentLength))
 		return -ENAMETOOLONG;
 
 	if (!(cifs_sb->mnt_cifs_flags & CIFS_MOUNT_POSIX_PATHS)) {
